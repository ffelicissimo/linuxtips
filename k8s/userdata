#AWSEC2
#!/bin/bash
sudo swapoff -a
echo "br_netfilter \
ip_vs_rr \
ip_vs_wrr \
ip_vs_sh \
nf_conntrack_ipv4 \
ip_vs" > /etc/modules-load.d/k8s.conf
curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -
sudo echo "deb http://apt.kubernetes.io/ kubernetes-xenial main" > /etc/apt/sources.list.d/kubernetes.list
apt-get update -y && sudo apt-get upgrade -y && sudo apt-get install -y apt-transport-https
curl -fsSL https://get.docker.com | bash
apt-get update
sudo apt-get install -y kubelet kubeadm kubectl bash-completion
sudo kubeadm config images pull
source /usr/share/bash-completion/bash_completion
type _init_completion
echo 'source <(kubectl completion bash)' >>~/.bashrc